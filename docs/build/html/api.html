

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Package Reference &mdash; ctlearn_optimizer 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing to ctlearn_optimizer" href="contributing.html" />
    <link rel="prev" title="Configuration" href="settings.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ctlearn_optimizer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Package Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-ctlearn_optimizer.optimizer">ctlearn_optimizer.optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ctlearn_optimizer.common">ctlearn_optimizer.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ctlearn_optimizer.bayesian_tpe">ctlearn_optimizer.bayesian_tpe</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ctlearn_optimizer.bayesian_gp">ctlearn_optimizer.bayesian_gp</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ctlearn_optimizer.genetic_algorithm">ctlearn_optimizer.genetic_algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ctlearn_optimizer.auxiliar_plot_functions">ctlearn_optimizer.auxiliar_plot_functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to ctlearn_optimizer</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ctlearn_optimizer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Package Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="package-reference">
<h1>Package Reference<a class="headerlink" href="#package-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-ctlearn_optimizer.optimizer">
<span id="ctlearn-optimizer-optimizer"></span><h2>ctlearn_optimizer.optimizer<a class="headerlink" href="#module-ctlearn_optimizer.optimizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ctlearn_optimizer.optimizer.Optimizer">
<em class="property">class </em><code class="sig-prename descclassname">ctlearn_optimizer.optimizer.</code><code class="sig-name descname">Optimizer</code><span class="sig-paren">(</span><em class="sig-param">opt_config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic class for an optimizer.</p>
<p>Currently, only tree_parzen_estimators, random_search, gaussian_processes
and genetic_algorithm based optimization using Ray Tune is supported.</p>
<dl class="method">
<dt id="ctlearn_optimizer.optimizer.Optimizer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">opt_config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the optimizer:</p>
<blockquote>
<div><ul class="simple">
<li><p>Set optimizer attributes.</p></li>
<li><p>Set logger writing to both <code class="docutils literal notranslate"><span class="pre">optimization.log</span></code> and stdout.</p></li>
<li><p>Load trials file from <code class="docutils literal notranslate"><span class="pre">working_directory/trials.pkl</span></code>
if required, thus allowing to resume a past optimization run.</p></li>
<li><p>Load optimization results file from
<code class="docutils literal notranslate"><span class="pre">working_directory/optimization_results.csv</span></code> or create one at
the same path as required. The results of the optimization run
(loss, iteration, metrics, hyperparameters, time) are logged to
this file for further analysis.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>opt_config [dict]</strong> – loaded optimization configuration file.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – if self.optimization_type is genetic_algorithm
    and self.reload_trials is True.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctlearn_optimizer.optimizer.Optimizer.create_optimization_algorithm">
<code class="sig-name descname">create_optimization_algorithm</code><span class="sig-paren">(</span><em class="sig-param">hyperparameter_space</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer.create_optimization_algorithm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer.create_optimization_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Create optimization algorithm for Ray Tune.</p>
<p>Currently, only tree_parzen_estimators, random_search,
gaussian_processes and genetic_algorithm based optimization using Ray
Tune is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>space [dict, list, ray.tune.automl.search_space.SearchSpace]</strong> – space of hyperparameters following the syntax required by
the optimization algorithm.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Optimization algorithm for Ray Tune.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – if self.optimization_type is other than
    tree_parzen_estimators, random_search, gaussian_processes or
    genetic_algorithm.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctlearn_optimizer.optimizer.Optimizer.create_space_hyperparams">
<code class="sig-name descname">create_space_hyperparams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer.create_space_hyperparams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer.create_space_hyperparams" title="Permalink to this definition">¶</a></dt>
<dd><p>Create space of hyperparameters following required syntax.</p>
<p>Currently, only tree_parzen_estimators and random_search spaces based
on hyperopt, gaussian_processes space based on skopt and
genetic_algorithm space based on ray.tune.automl are supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>space of hyperparameters following the syntax required by the
optimization algorithm.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotImplementedError if self.optimization_type is other than</strong> – tree_parzen_estimators, random_search, gaussian_processes or
    genetic_algorithm.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctlearn_optimizer.optimizer.Optimizer.get_ctlearn_metric_to_optimize">
<code class="sig-name descname">get_ctlearn_metric_to_optimize</code><span class="sig-paren">(</span><em class="sig-param">hyperparams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer.get_ctlearn_metric_to_optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer.get_ctlearn_metric_to_optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a CTLearn model and return metric to optimize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hyperparams [dict]</strong> – set of hyperparameters to evaluate provided by
the optimizer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>metric to optimize [float].</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctlearn_optimizer.optimizer.Optimizer.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param">objective_function</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the optimization of objective_function using Ray Tune.</p>
<p>Currently, only tree_parzen_estimators, random_search,
gaussian_processes and genetic_algorithm based optimization using Ray
Tune is supported.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>objective_function</strong> – function to optimize following the syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">def</span><span class="p">(</span><span class="n">hyperparams</span><span class="p">,</span> <span class="n">reporter</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># compute loss to optimize</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span><span class="p">(</span><span class="n">loss</span><span class="o">=</span><span class="n">loss</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>ray_result [ExperimentAnalysis]</em> –     object used for analyzing results from run().</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctlearn_optimizer.optimizer.Optimizer.optimize_ctlearn_model">
<code class="sig-name descname">optimize_ctlearn_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer.optimize_ctlearn_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer.optimize_ctlearn_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the optimization of a CTLearn model using Ray Tune.</p>
<p>Currently, only tree_parzen_estimators, random_search,
gaussian_processes and genetic_algorithm based optimization using Ray
Tune is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>result [ExperimentAnalysis]</em> –     object used for analyzing results from Tune run().</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctlearn_optimizer.optimizer.Optimizer.set_basic_config">
<code class="sig-name descname">set_basic_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/optimizer.html#Optimizer.set_basic_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.optimizer.Optimizer.set_basic_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Set basic config and fixed hyperparameters in CTLearn config file.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ctlearn_optimizer.common">
<span id="ctlearn-optimizer-common"></span><h2>ctlearn_optimizer.common<a class="headerlink" href="#module-ctlearn_optimizer.common" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ctlearn_optimizer.common.auxiliar_modify_params">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">auxiliar_modify_params</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">hyperparams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#auxiliar_modify_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.auxiliar_modify_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the values of the hyperparameters in CTLearn configuration file.</p>
<p>This function also modifies the logging model_directory of CTLearn and the
prediction_file_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p></li>
<li><p><strong>hyperparams [dict]</strong> – dictionary containing values of the
hyperparameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.create_nested_item">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">create_nested_item</code><span class="sig-paren">(</span><em class="sig-param">dictionary</em>, <em class="sig-param">*keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#create_nested_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.create_nested_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty item with specific keys and positions in a dictionary.</p>
<p>The dictionary can be a nested dictionary containing lists, these lists can
also contain nested dictionaries, and so on. The keys list can contain
string (which refer dictionary keys) and integers (which refer list
indices). The dictionary may or may be not empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dictionary [dict]</strong> – dictionary to modify.</p></li>
<li><p><strong>keys [list]</strong> – list of keys containing strings and integers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified dictionary [dict].</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dictionary</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_nested_item</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="o">*</span><span class="n">keys</span><span class="p">)</span> <span class="o">=</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">{}}]}]}}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – if type(dictionary) != dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.ctlearn_objective">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">ctlearn_objective</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">hyperparams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#ctlearn_objective"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.ctlearn_objective" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a CTLearn model and return metric to optimize.</p>
<p>Train a CTLearn model and predict if necessary, get the metrics and log
them to the optimization_results file. Also save trials file for resuming
training if it has been interrupted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p></li>
<li><p><strong>hyperparams [dict]</strong> – values of the hyperparameters to evaluate
suggested by the optimizer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>loss [float]</em> – metric to optimize.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.get_pred_metrics">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">get_pred_metrics</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#get_pred_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.get_pred_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get CTLearn prediction metrics from the current CTLearn logging folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>metrics_pred_to_log [dict]</em> –     dictionary containing prediction set metrics to log to the
optimization results file.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.get_val_metrics">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">get_val_metrics</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#get_val_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.get_val_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get CTLearn validation metrics from the current CTLearn logging folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>metrics_val_to_log [dict]</em> –     dictionary containing validation set metrics to log to the
optimization results file.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.modify_optimizable_params">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">modify_optimizable_params</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">hyperparams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#modify_optimizable_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.modify_optimizable_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Update CTLearn config file with new hyperparameters at each iteration.</p>
<p>This function takes the dictionary containing the values of the
hyperparameters to optimize suggested by the optimizer, flattens and
corrects the dictionary if required, then add the values of the dependent
hyperparameters to the dictionary. Finally calls
<code class="docutils literal notranslate"><span class="pre">auxiliar_modify_params()</span></code> to modify the hyperparameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p></li>
<li><p><strong>hyperparams [dict]</strong> – flat or nested dictionary containing the values of
the hyperparameters to optimize suggested by the optimizer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flat dictionary containing the values of the dependent hyperparameters
and hyperparameters to optimize  [dict].</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.optimization_results_logger">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">optimization_results_logger</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">loss</em>, <em class="sig-param">hyperparams_dict</em>, <em class="sig-param">metrics_pred</em>, <em class="sig-param">metrics_val</em>, <em class="sig-param">run_time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#optimization_results_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.optimization_results_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Write loss, hyperparameters, metrics and run_time to the results file.</p>
<p>This function log the data to the optimization_results file stored as
<code class="docutils literal notranslate"><span class="pre">optimization_results.csv</span></code> at <code class="docutils literal notranslate"><span class="pre">working_directory</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p></li>
<li><p><strong>loss [float]</strong> – value to optimize.</p></li>
<li><p><strong>hyperparams_dict [dict]</strong> – values of the hyperparameters the user wishes
to store.</p></li>
<li><p><strong>metrics_pred [dict]</strong> – values of the prediction set metrics the user
wishes to store.</p></li>
<li><p><strong>metrics_val [dict]</strong> – values of the validation set metrics the user
wishes to store.</p></li>
<li><p><strong>run_time [float]</strong> – execution time the user wishes to store.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.predict">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict using a trained CTLearn model.</p>
<p>Debug is set to False and log_to_file is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.restore">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">restore</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Load <code class="docutils literal notranslate"><span class="pre">trials.pkl</span></code> of a previous run from the <code class="docutils literal notranslate"><span class="pre">working_directory</span></code>.</p>
<p>Currently, trial loading for only tree_parzen_estimators, random_search or
gaussian_processes based optimization using Ray Tune is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>gp_opt_restored [skopt.optimizer.optimizer.Optimizer]</em> –     optimizer provided from Skopt (only if self.optimization.type ==
‘gaussian_processes’).</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – if self.optimization_type is genetic_algorithm.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.save">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save trials of the current run at the working folder as <code class="docutils literal notranslate"><span class="pre">trials.pkl</span></code>.</p>
<p>Currently, trial saving for only tree_parzen_estimators, random_search or
gaussian_processes based optimization using Ray Tune is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – if self.optimization_type == ‘genetic_algorithm’.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.set_basic_config">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">set_basic_config</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#set_basic_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.set_basic_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Set basic config and fixed hyperparameters in CTLearn config file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.set_logger">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">set_logger</code><span class="sig-paren">(</span><em class="sig-param">log_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#set_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.set_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up new logger writing to both log_path and stdout.</p>
<p>Ray Tune optimizator runs the objective function on a different Python
process, so new loggers writing to the same file have to be created when
necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>log_path [str]</strong> – path to log file.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.set_value">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">set_value</code><span class="sig-paren">(</span><em class="sig-param">dictionary</em>, <em class="sig-param">value</em>, <em class="sig-param">*keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#set_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the value the keys point to in a nested dictionary.</p>
<p>The dictionary can be a nested dictionary containing lists, these lists can
also contain nested dictionaries, and so on. The keys list can contain
strings (which refer dictionary keys) and integers (which refer list
indices). Dictionary cannot be empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dictionary [dict]</strong> – dictionary that contais the key-value pair the user
wishes to modify.</p></li>
<li><p><strong>value [int, float, string]</strong> – value to set.</p></li>
<li><p><strong>keys [list]</strong> – list of keys containing strings and integers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified dictionary [dict].</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span><span class="mi">0</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_value</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="n">keys</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span><span class="mi">0</span><span class="p">]}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – if type(dictionary) != dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ctlearn_optimizer.common.train">
<code class="sig-prename descclassname">ctlearn_optimizer.common.</code><code class="sig-name descname">train</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/common.html#train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.common.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a CTlearn model training.</p>
<p>Debug is set to False and log_to_file is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – <code class="docutils literal notranslate"><span class="pre">ctlearn_optimizer.optimizer.Optimizer</span></code> instance.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ctlearn_optimizer.bayesian_tpe">
<span id="ctlearn-optimizer-bayesian-tpe"></span><h2>ctlearn_optimizer.bayesian_tpe<a class="headerlink" href="#module-ctlearn_optimizer.bayesian_tpe" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ctlearn_optimizer.bayesian_tpe.hyperopt_space">
<code class="sig-prename descclassname">ctlearn_optimizer.bayesian_tpe.</code><code class="sig-name descname">hyperopt_space</code><span class="sig-paren">(</span><em class="sig-param">hyper_to_opt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/bayesian_tpe.html#hyperopt_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.bayesian_tpe.hyperopt_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Create space of hyperparameters for the tree parzen estimators optimizer.</p>
<p>This function creates the space of hyperparameter following hyperopt
syntax.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hyper_to_opt [dict]</strong> – dictionary containing the configuration of the
hyperparameters to optimize. This dictionary must follow the next
syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyper_to_opt</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hyperparam_1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;range: ...,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;hyperparam_2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;range: ...,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="p">}</span>
</pre></div>
</div>
<ul>
<li><p>Settings available (take a look at the example for
further clarification ):</p>
<blockquote>
<div><ul class="simple">
<li><p>type: one of  (‘uniform’, ‘quniform’, ‘loguniform’,
‘qloguniform’, ‘normal’, ‘qnormal’, ‘lognormal’,
‘qlognormal’, ‘choice’, ‘conditional’).</p></li>
<li><p>range: if type == ‘choice’ -&gt; [option1, option2, …], if
‘type’ == ‘conditional’ -&gt; {‘value’: see example,
‘conditional_params’: see example}, else -&gt; [lower_limit,
upper_limit].</p></li>
<li><p>step: positive integer, space between generated
between numbers  (only for q-types).</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>space [dict]</em> – space of hyperparameters following the syntax required by
the tree parzen estimators optimization algorithm.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyper_top_opt</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s1">&#39;cnn_rnn_dropout&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s1">&#39;optimizer_type&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;choice&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Adadelta&#39;</span><span class="p">,</span> <span class="s1">&#39;Adam&#39;</span><span class="p">,</span> <span class="s1">&#39;RMSProp&#39;</span><span class="p">,</span> <span class="s1">&#39;SGD&#39;</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s1">&#39;number_of_layers&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;conditional&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>               <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>               <span class="s1">&#39;cond_params&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="s1">&#39;layer1_kernel&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;quniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="s1">&#39;base_learning_rate&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;loguniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]}</span> <span class="p">}}}}</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-ctlearn_optimizer.bayesian_gp">
<span id="ctlearn-optimizer-bayesian-gp"></span><h2>ctlearn_optimizer.bayesian_gp<a class="headerlink" href="#module-ctlearn_optimizer.bayesian_gp" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ctlearn_optimizer.bayesian_gp.skopt_space">
<code class="sig-prename descclassname">ctlearn_optimizer.bayesian_gp.</code><code class="sig-name descname">skopt_space</code><span class="sig-paren">(</span><em class="sig-param">hyper_to_opt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/bayesian_gp.html#skopt_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.bayesian_gp.skopt_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Create space of hyperparameters for the gaussian processes optimizer.</p>
<p>This function creates the space of hyperparameter following skopt syntax.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hyper_to_opt [dict]</strong> – dictionary containing the configuration of the
hyperparameters to optimize. This dictionary must follow the next
syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyper_to_opt</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hyperparam_1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;range: ...,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;hyperparam_2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;range: ...,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="p">}</span>
</pre></div>
</div>
<ul>
<li><p>Settings available (take a look at the example further
clarification):</p>
<blockquote>
<div><ul class="simple">
<li><p>type: one of (‘uniform’, ‘quniform’, ‘loguniform’,
‘choice’).</p></li>
<li><p>range: if type == ‘choice’ -&gt; [option1, option2, …], else
-&gt; [lower_limit, upper_limit].</p></li>
<li><p>step: positive integer, space between generated
between numbers  (only for q-types).</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>space [list]</em> – space of hyperparameters following the syntax required by the
gaussian processes optimization algorithm.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyper_top_opt</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="s1">&#39;cnn_rnn_dropout&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;optimizer_type&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;choice&#39;</span><span class="p">,,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Adadelta&#39;</span><span class="p">,</span> <span class="s1">&#39;Adam&#39;</span><span class="p">,</span> <span class="s1">&#39;RMSProp&#39;</span><span class="p">,</span> <span class="s1">&#39;SGD&#39;</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;base_learning_rate&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;loguniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;layer1_filters&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;quniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">64</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – if hyperparameter type is other than ‘uniform’,
    ‘quniform’, ‘loguniform’ or ‘choice’.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ctlearn_optimizer.genetic_algorithm">
<span id="ctlearn-optimizer-genetic-algorithm"></span><h2>ctlearn_optimizer.genetic_algorithm<a class="headerlink" href="#module-ctlearn_optimizer.genetic_algorithm" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ctlearn_optimizer.genetic_algorithm.gen_al_space">
<code class="sig-prename descclassname">ctlearn_optimizer.genetic_algorithm.</code><code class="sig-name descname">gen_al_space</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/genetic_algorithm.html#gen_al_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.genetic_algorithm.gen_al_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Create space of hyperparameters for the genetic algorithm optimizer.</p>
<p>This function creates the space of hyperparameter following ray.tune.automl
syntax.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hyper_to_opt [dict]</strong> – dictionary containing the configuration of the
hyperparameters to optimize. This dictionary must follow the next
syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyper_to_opt</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hyperparam_1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;range: ...,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;hyperparam_2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;range: ...,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="p">}</span>
</pre></div>
</div>
<ul>
<li><p>Settings available (take a look at the example further
clarification):</p>
<blockquote>
<div><ul class="simple">
<li><p>type: one of (‘uniform’, ‘quniform’, ‘choice’).</p></li>
<li><p>range: if type == ‘choice’ -&gt; [option1, option2, …], else
-&gt; [lower_limit, upper_limit].</p></li>
<li><p>step: positive integer, space between generated
between numbers  (only for q-types).</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>space [ray.tune.automl.search_space.SearchSpace]</em> – space of hyperparameters following the syntax required by the genetic
algorithm optimizer.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyper_top_opt</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="s1">&#39;cnn_rnn_dropout&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;optimizer_type&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;choice&#39;</span><span class="p">,,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Adadelta&#39;</span><span class="p">,</span> <span class="s1">&#39;Adam&#39;</span><span class="p">,</span> <span class="s1">&#39;RMSProp&#39;</span><span class="p">,</span> <span class="s1">&#39;SGD&#39;</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;layer1_filters&#39;</span><span class="p">:{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;quniform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">64</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – if hyperparameter space type is other than uniform,
    quniform or choice.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ctlearn_optimizer.auxiliar_plot_functions">
<span id="ctlearn-optimizer-auxiliar-plot-functions"></span><h2>ctlearn_optimizer.auxiliar_plot_functions<a class="headerlink" href="#module-ctlearn_optimizer.auxiliar_plot_functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ctlearn_optimizer.auxiliar_plot_functions.plot_convergence">
<code class="sig-prename descclassname">ctlearn_optimizer.auxiliar_plot_functions.</code><code class="sig-name descname">plot_convergence</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ctlearn_optimizer/auxiliar_plot_functions.html#plot_convergence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctlearn_optimizer.auxiliar_plot_functions.plot_convergence" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot one or several convergence traces.</p>
<dl>
<dt>Parameters</dt><dd><p>args[i] [OptimizeResult, list of OptimizeResult, or tuple]:</p>
<blockquote>
<div><p>The result(s) for which to plot the convergence trace.</p>
<ul class="simple">
<li><p>if OptimizeResult, then draw the corresponding single trace;</p></li>
<li><p>if list of OptimizeResult, then draw the corresponding
convergence traces in transparency, along with the average
convergence trace;</p></li>
<li><p>if tuple, then args[i][0] should be a string label and args[i][1]
an OptimizeResult or a list of OptimizeResult.</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>ax [Axes, optional]: The matplotlib axes on which to draw the plot,</dt><dd><p>or None to create a new one.</p>
</dd>
</dl>
<p>yscale [None or string, optional]: The scale for the y-axis.</p>
</dd>
</dl>
<p>Returns</p>
<blockquote>
<div><p>ax: [Axes]: The matplotlib axes.</p>
</div></blockquote>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing to ctlearn_optimizer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="settings.html" class="btn btn-neutral float-left" title="Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Juan Alfonso Redondo Pizarro

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>