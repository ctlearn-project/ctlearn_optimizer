# CTLearn Optimizer [GSOC 2019]

Framework for optimizing CTLearn models.
So far, Tree Parzen Estimator based Bayesian Optimization and random optimization using [hyperopt](https://github.com/hyperopt/hyperopt) are supported.

### Prerequisites

```
CTLearn, hyperopt, sklearn, multiprocessing, os, re , yaml, numpy, logging, pickle, csv, timeit, time, argsparse, os, functools, shutil
```

### Installing

1. Install the prerequisites (anaconda or conda is suggested).
2. Download this package.
3. Run `python setup.py install` from the root folder.

## Basic usage: Perform optimization run

1. Create a folder, cd to it
2. You will need both `myconfig.yml` (CTLearn config) and `opt_config.yml` (CTLearn Optimizer config) files in the folder. Examples are provided.
3. Run `python PATH/TO/PROJECT/ctlearn_optimizer/optimizer.py opt_config.yml`.

## Basic usage

The outputs of an optimization session are:

  - `optimization.log` file containg messages about the optimization run.
  - `checking_file.csv ` file containing loss, iteration, hyperparameters, metrics and training_time. This file is updated each iteration.
  - `checking_trials.pkl` file containing info for enabling hyperopt to resume from previous runs. Updated each iteration.
  - `trials.pkl` file containing info for enabling hyperopt to resume from previous runs. Generated at the end of the optimization run.
  - `runX` folders containing Tensorflow files generated by CTLearn.

## Authors

* **[Juan Alfonso Redondo Pizarro](https://github.com/juan-redondo/ctlearn)**
